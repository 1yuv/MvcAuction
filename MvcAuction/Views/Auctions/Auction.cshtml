@model MvcAuction.Models.Auction
@{
    // When passed through Viewdata
    //var auction = ViewBag.Auction;

    var auction = Model;
    
}

<div class="auction">
    <h3>@auction.Title</h3>

    <div class="details">
        <p>Start Time: @auction.StartTime.ToString("g")</p>
        <p>End Time: @auction.EndTime.ToString("g")</p>
        <p>Starting Price: @auction.StartPrice.ToString("C")</p>
        @*
            Since current price is nullable we have to check see if it hasa avalue before we call .ToString()!
        *@

        <p>
            Current Price:
            @if(auction.CurrentPrice==null)
            {
                @: [No bids]
            }
            else
            {
                <span>@auction.CurrentPrice.Value.ToString("C")</span>
            }
        </p>

    </div>

    @if(auction.ImageUrl!=null)
    {
        <img src="@auction.ImageUrl" title="@auction.Title" />
    }
    
    <div class="description">
        @auction.Description
    </div>

</div>